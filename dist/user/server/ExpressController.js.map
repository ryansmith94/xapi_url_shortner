{"version":3,"sources":["user/server/ExpressController.ts"],"names":[],"mappings":";AAAA;IAIE,oBAAmB,GAAG,EAAE,OAAO,EAAE,aAAa;QAC5C,IAAI,CAAC,OAAO,GAAG,OAAO,CAAC;QACvB,IAAI,CAAC,aAAa,GAAG,aAAa,CAAC;QACnC,IAAI,CAAC,eAAe,CAAC,GAAG,CAAC,CAAC;IAC5B,CAAC;IAEO,oCAAe,GAAvB,UAAwB,GAAG;QACzB,GAAG,CAAC,IAAI,CAAC,WAAW,EAAE,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;IACpD,CAAC;IAEM,+BAAU,GAAjB,UAAkB,GAAG,EAAE,GAAG;QAA1B,iBAcC;QAbC,IAAI,KAAK,GAAG,GAAG,CAAC,GAAG,CAAC,eAAe,CAAC,CAAC,OAAO,CAAC,SAAS,EAAE,EAAE,CAAC,CAAC;QAC5D,IAAI,CAAC,aAAa,CAAC,cAAc,CAAC,KAAK,CAAC,CAAC,IAAI,CAAC,UAAC,OAAe;YAC5D,MAAM,CAAC,KAAI,CAAC,OAAO,CAAC,kBAAkB,CACpC,GAAG,CAAC,IAAI,CAAC,KAAK,EACd,GAAG,CAAC,IAAI,CAAC,QAAQ,EACjB,OAAO,CACR,CAAC;QACJ,CAAC,CAAC,CAAC,IAAI,CAAC,UAAU,KAAK;YACrB,GAAG,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;QAClB,CAAC,EAAE,UAAU,GAAG;YACd,OAAO,CAAC,KAAK,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;YACzB,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,CAAC;QACpC,CAAC,CAAC,CAAC;IACL,CAAC;IACH,iBAAC;AAAD,CA7BA,AA6BC,IAAA;AAED;kBAAe,UAAU,CAAC","file":"user/server/ExpressController.js","sourcesContent":["class Controller {\n  private service;\n  private token_service;\n\n  public constructor(app, service, token_service) {\n    this.service = service;\n    this.token_service = token_service;\n    this.constructRoutes(app);\n  }\n\n  private constructRoutes(app) {\n    app.post('/api/user', this.createUser.bind(this));\n  }\n\n  public createUser(req, res) {\n    var token = req.get('Authorization').replace('Bearer ', '');\n    this.token_service.getUserByValue(token).then((user_id: number) => {\n      return this.service.createUserWithUser(\n        req.body.email,\n        req.body.password,\n        user_id\n      );\n    }).then(function (model) {\n      res.json(model);\n    }, function (err) {\n      console.error(err.stack);\n      res.status(400).send(String(err));\n    });\n  }\n}\n\nexport default Controller;"],"sourceRoot":"/source/"}