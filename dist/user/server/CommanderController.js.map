{"version":3,"sources":["user/server/CommanderController.ts"],"names":[],"mappings":"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","file":"user/server/CommanderController.js","sourcesContent":["class Controller {\n  private service;\n\n  public constructor(commander, service) {\n    this.service = service;\n    this.constructCommands(commander);\n  }\n\n  public constructCommands(commander) {\n    commander\n      .command('cu <user_email> <password> <group_id>')\n      .description('Create a user')\n      .action(this.createUser.bind(this));\n\n    commander\n      .command('du <user_id>')\n      .description('Delete a user')\n      .action(this.deleteUser.bind(this));\n\n    commander\n      .command('lu <group_id>')\n      .description('List the users in a group')\n      .action(this.getUsersByGroupId.bind(this));\n\n    commander\n      .command('ca <user_id>')\n      .description('Make user an admin of their group')\n      .action(this.createAdmin.bind(this));\n  }\n\n  public createUser(email, password, group_id) {\n    this.service.createUser(email, password, group_id).then(function (model) {\n      console.log(model);\n    }, function (err) {\n      console.error(err.stack);\n    }).then(process.exit, process.exit);\n  }\n\n  public deleteUser(id) {\n    this.service.deleteUserById(id).then(function (result) {\n      console.log('Deleted');\n    }, function (err) {\n      console.error(err.stack);\n    }).then(process.exit, process.exit);\n  }\n\n  public getUsersByGroupId(group_id) {\n    this.service.getUsersByGroupId(group_id).then(function (models) {\n      console.log(models.map(function(model) { return JSON.stringify(model); }).join('\\n'));\n    }, function (err) {\n      console.error(err.stack);\n    }).then(process.exit, process.exit);\n  }\n\n  public createAdmin(id) {\n    this.service.createAdmin(id).then((model) => {\n      console.log(JSON.stringify(model));\n    }, (err) => {\n      console.error(err.stack);\n    }).then(process.exit, process.exit);\n  }\n}\n\nexport default Controller;"],"sourceRoot":"/source/"}